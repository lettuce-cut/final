{"remainingRequest":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/babel-loader/lib/index.js!/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/MyPhotos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/MyPhotos.vue","mtime":1639821427954},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/babel-loader/lib/index.js","mtime":1639544568021},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js","mtime":1639544568744}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9yb2xpYXNvbmcvRGVza3RvcC9XZWJEZXYvYXV0aGVudGljYXRpbmcvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ015UGhvdG9zJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3JlYXRpbmc6IGZhbHNlLAogICAgICBuYW1lOiAnJywKICAgICAgbW9tTmFtZTogJycsCiAgICAgIGRhZE5hbWU6ICcnLAogICAgICB1cmw6ICcnLAogICAgICBmaWxlOiBudWxsLAogICAgICBlcnJvcjogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcjogZnVuY3Rpb24gdXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3QuJGRhdGEudXNlcjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFBob3RvczogZnVuY3Rpb24gZ2V0UGhvdG9zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9hcGkvcGhvdG9zIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLnBob3RvcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vYmVsb3cgZnVuY3Rpb24gd2FzIGdldFRpY2tldHMgYW5kIHBob3RvcyB3YXMgdGlja2V0cwogICAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdGhpcy5nZXRQaG90b3MoKTsKICAgIH0sCiAgICB0aW1lOiBmdW5jdGlvbiB0aW1lKGQpIHsKICAgICAgcmV0dXJuIG1vbWVudChkKS5mb3JtYXQoJ0QgTU1NTSBZWVlZLCBoOm1tOnNzIGEnKTsKICAgIH0sCiAgICBzZXRDcmVhdGluZzogZnVuY3Rpb24gc2V0Q3JlYXRpbmcoKSB7CiAgICAgIHRoaXMuY3JlYXRpbmcgPSB0cnVlOwogICAgfSwKICAgIGNhbmNlbENyZWF0aW5nOiBmdW5jdGlvbiBjYW5jZWxDcmVhdGluZygpIHsKICAgICAgdGhpcy5jcmVhdGluZyA9IGZhbHNlOwogICAgfSwKICAgIGZpbGVDaGFuZ2VkOiBmdW5jdGlvbiBmaWxlQ2hhbmdlZChldmVudCkgewogICAgICB0aGlzLmZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIHRoaXMudXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmZpbGUpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0sCiAgICBjaG9vc2VJbWFnZTogZnVuY3Rpb24gY2hvb3NlSW1hZ2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZUlucHV0LmNsaWNrKCk7CiAgICB9LAogICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwaG90bycsIF90aGlzMi5maWxlLCBfdGhpczIuZmlsZS5uYW1lKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIF90aGlzMi5uYW1lKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbW9tTmFtZScsIF90aGlzMi5tb21OYW1lKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGFkTmFtZScsIF90aGlzMi5kYWROYW1lKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvYXBpL3Bob3RvcyIsIGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXMyLmNyZWF0aW5nID0gZmFsc2UsIF90aGlzMi5maWxlID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMi51cmwgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMi5uYW1lID0gIiI7CiAgICAgICAgICAgICAgICBfdGhpczIubW9tTmFtZSA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMyLmRhZE5hbWUgPSAiIjsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ3VwbG9hZEZpbmlzaGVkJyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvciA9ICJFcnJvcjogIiArIF9jb250ZXh0Mi50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["MyPhotos.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"main\">\n  <h2>Logged in as: {{user.firstName}} {{user.lastName}}</h2>\n  <h1>My Photos</h1>\n  <div>\n    <button @click=\"setCreating\" class=\"pure-button button-xsmall\">\n        <i class=\"fas fa-plus\" />\n    </button>\n    </div>\n\n    <form class=\"pure-form\" v-if=\"creating\" @submit.prevent=\"upload\">\n       <legend>Add to the Family</legend>\n        <fieldset>\n          <input v-model=\"name\" placeholder=\"Main person in photo?\">\n        </fieldset>\n        <fieldset>\n          <textarea v-model=\"momName\" placeholder=\"Mom's name\"></textarea>\n        </fieldset>\n        <!-- original had v-model=\"description\" -->\n        <fieldset>\n          <textarea v-model=\"dadName\" placeholder=\"Dad's name\"></textarea>\n        </fieldset>\n       <fieldset>\n          <div class=\"imageInput\" @click=\"chooseImage\">\n            <img v-if=\"url\" :src=\"url\" />\n            <div v-if=\"!url\" class=\"placeholder\">\n              Choose an Image\n            </div>\n            <input class=\"fileInput\" ref=\"fileInput\" type=\"file\" @input=\"fileChanged\">\n          </div>\n          <p v-if=\"error\" class=\"error\">{{error}}</p>\n        </fieldset>\n        <fieldset class=\"buttons\">\n          <button type=\"button\" @click=\"close\" class=\"pure-button\">Close</button>\n          <button type=\"submit\" class=\"pure-button pure-button-primary right\">Upload</button>\n        </fieldset>\n    </form>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\nexport default {\n  name: 'MyPhotos',\n  data() {\n        return {\n        creating: false,\n        name: '',\n        momName: '',\n        dadName:'',\n        url: '',\n        file: null,\n        error: '',\n        }\n    },\n  computed: {\n    user() {\n      return this.$root.$data.user;\n    },\n  },\n  methods: {\n    async getPhotos() {\n      try {\n        let response = await axios.get(\"/api/photos\");\n        this.photos = response.data;\n      } catch (error) {\n        this.error = error.response.data.message;\n      }\n    },\n    //below function was getTickets and photos was tickets\n    \n    created() {\n        this.getPhotos();\n    },\n    time(d) {\n      return moment(d).format('D MMMM YYYY, h:mm:ss a');\n    },\n    setCreating() {\n        this.creating = true;\n    },\n    cancelCreating() {\n        this.creating = false;\n    },\n    fileChanged(event) {\n            this.file = event.target.files[0];\n            this.url = URL.createObjectURL(this.file);\n        },\n    close() {\n      this.$emit('close');\n    },\n    chooseImage() {\n        this.$refs.fileInput.click()\n    },\n    async upload() {\n      try {\n        const formData = new FormData();\n        formData.append('photo', this.file, this.file.name);\n        formData.append('name', this.name);\n        formData.append('momName', this.momName);\n        formData.append('dadName', this.dadName);\n        await axios.post(\"/api/photos\", formData);\n        this.creating = false,\n        this.file = null;\n        this.url = \"\";\n        this.name = \"\";\n        this.momName = \"\";\n        this.dadName = \"\";\n        this.$emit('uploadFinished');\n      } \n      catch (error) {\n        this.error = \"Error: \" + error.response.data.message;\n      }\n    }\n  },\n}\n</script>\n\n<style scoped>\ntextarea {\n  width: 100%;\n  max-width: 500px;\n}\n\nh3 {\n  font-size: 12px;\n  font-weight: normal;\n  background-color: #ccc;\n  padding: 10px 20px;\n}\n\n\nlabel {\n  background-color: #000;\n  color: white;\n  padding: 5px;\n  border-radius: 30px;\n  font-size: 12px;\n  margin-right: 10px;\n}\n\n</style>"],"sourceRoot":"src/components"}]}
{"remainingRequest":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/babel-loader/lib/index.js!/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/Ticket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/Ticket.vue","mtime":1639627708332},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/babel-loader/lib/index.js","mtime":1639544568021},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js","mtime":1639544568744}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9yb2xpYXNvbmcvRGVza3RvcC9XZWJEZXYvYXV0aGVudGljYXRpbmcvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGlja2V0IiwKICBwcm9wczogewogICAgdGlja2V0OiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNwb25zZTogJycsCiAgICAgIGVycm9yOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRpbWU6IGZ1bmN0aW9uIHRpbWUoZCkgewogICAgICByZXR1cm4gbW9tZW50KGQpLmZvcm1hdCgnRCBNTU1NIFlZWVksIGg6bW06c3MgYScpOwogICAgfSwKICAgIHJlc3BvbmQ6IGZ1bmN0aW9uIHJlc3BvbmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS90aWNrZXRzLycgKyBfdGhpcy50aWNrZXQuX2lkLCB7CiAgICAgICAgICAgICAgICAgIHN0YXR1czogImNsb3NlZCIsCiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBfdGhpcy5yZXNwb25zZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLnRpY2tldCA9IHJlc3BvbnNlLmRhdGEudGlja2V0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gX2NvbnRleHQudDAucmVzcG9uc2UubWVzc2FnZTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Ticket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAgBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,CADA,EACA;AACA,aAAA,MAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,wBAAA,CAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,CAAA,kBAAA,KAAA,CAAA,MAAA,CAAA,GAAA,EAAA;AACA,kBAAA,MAAA,EAAA,QADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA;AAFA,iBAAA,CAFA;;AAAA;AAEA,gBAAA,QAFA;AAMA,gBAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AANA;AAAA;;AAAA;AAAA;AAAA;AAQA,gBAAA,KAAA,CAAA,KAAA,GAAA,YAAA,QAAA,CAAA,OAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAdA;AAXA,CAAA","sourcesContent":["<template>\n<div class=\"ticket\">\n  <div class=\"problem\">\n    <h3><label>{{ticket.status}}</label> Problem reported {{time(ticket.created)}}</h3>\n    <p>{{ticket.problem}}</p>\n    <p v-if=\"ticket.response\"><i>{{ticket.response}}</i></p>\n    <p v-else>\n      <input v-model=\"response\" placeholder=\"response\">\n      <button @click=\"respond\" class=\"pure-button pure-button-primary\">Close Ticket</button>\n    </p>\n    <p class=\"error\" v-if=\"error\">{{error}}</p>\n  </div>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\nexport default {\n  name: \"Ticket\",\n  props: {\n    ticket: Object,\n  },\n  data() {\n    return {\n      response: '',\n      error: ''\n    }\n  },\n  methods: {\n    time(d) {\n      return moment(d).format('D MMMM YYYY, h:mm:ss a');\n    },\n    async respond() {\n      try {\n        let response = await axios.put('/api/tickets/' + this.ticket._id, {\n          status: \"closed\",\n          response: this.response,\n        });\n        this.ticket = response.data.ticket;\n      } catch (error) {\n        this.error = error.response.message;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\nh3 {\n  font-size: 12px;\n  font-weight: normal;\n  background-color: #ccc;\n  padding: 10px 20px;\n}\n\nlabel {\n  background-color: #000;\n  color: white;\n  padding: 5px;\n  border-radius: 30px;\n  font-size: 12px;\n  margin-right: 10px;\n}\n\ninput {\n  margin-right: 10px;\n}\n</style>"],"sourceRoot":"src/components"}]}
{"remainingRequest":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/Admin.vue","mtime":1639627764920},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/babel-loader/lib/index.js","mtime":1639544568021},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js","mtime":1639544568744}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBUaWNrZXQgZnJvbSAnQC9jb21wb25lbnRzL1RpY2tldC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkbWluJywKICBjb21wb25lbnRzOiB7CiAgICBUaWNrZXQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aWNrZXRzOiBbXSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdC4kZGF0YS51c2VyOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFRpY2tldHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGxvZ291dCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoIi9hcGkvdXNlcnMiKTsKICAgICAgICB0aGlzLiRyb290LiRkYXRhLnVzZXIgPSBudWxsOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuJHJvb3QuJGRhdGEudXNlciA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRUaWNrZXRzKCkgewogICAgICB0cnkgewogICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgiL2FwaS90aWNrZXRzIik7CiAgICAgICAgdGhpcy50aWNrZXRzID0gcmVzcG9uc2UuZGF0YS50aWNrZXRzOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"main\">\n  <h2>Logged in as: {{user.firstName}} {{user.lastName}} <button @click=\"logout\" class=\"pure-button pure-button-primary\">Logout</button></h2>\n  <h1>Administration</h1>\n  <div v-for=\"ticket in tickets\" v-bind:key=\"ticket.id\">\n    <Ticket :ticket=\"ticket\" />\n  </div>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Ticket from '@/components/Ticket.vue';\nexport default {\n  name: 'Admin',\n  components: {\n    Ticket\n  },\n  data() {\n    return {\n      tickets: [],\n    }\n  },\n  computed: {\n    user() {\n      return this.$root.$data.user;\n    },\n  },\n  created() {\n    this.getTickets();\n  },\n  methods: {\n    async logout() {\n      try {\n        await axios.delete(\"/api/users\");\n        this.$root.$data.user = null;\n      } catch (error) {\n        this.$root.$data.user = null;\n      }\n    },\n    async getTickets() {\n      try {\n        let response = await axios.get(\"/api/tickets\");\n        this.tickets = response.data.tickets;\n        return true;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  }\n}\n</script>"]}]}
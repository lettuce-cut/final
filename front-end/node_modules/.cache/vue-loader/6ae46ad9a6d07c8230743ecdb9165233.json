{"remainingRequest":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/Ticket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/src/components/Ticket.vue","mtime":1639627708332},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/babel-loader/lib/index.js","mtime":1639544568021},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1639544566065},{"path":"/Users/roliasong/Desktop/WebDev/authenticating/front-end/node_modules/vue-loader/lib/index.js","mtime":1639544568744}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUaWNrZXQiLAogIHByb3BzOiB7CiAgICB0aWNrZXQ6IE9iamVjdCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNwb25zZTogJycsCiAgICAgIGVycm9yOiAnJwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdGltZShkKSB7CiAgICAgIHJldHVybiBtb21lbnQoZCkuZm9ybWF0KCdEIE1NTU0gWVlZWSwgaDptbTpzcyBhJyk7CiAgICB9LAogICAgYXN5bmMgcmVzcG9uZCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wdXQoJy9hcGkvdGlja2V0cy8nICsgdGhpcy50aWNrZXQuX2lkLCB7CiAgICAgICAgICBzdGF0dXM6ICJjbG9zZWQiLAogICAgICAgICAgcmVzcG9uc2U6IHRoaXMucmVzcG9uc2UsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50aWNrZXQgPSByZXNwb25zZS5kYXRhLnRpY2tldDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLmVycm9yID0gZXJyb3IucmVzcG9uc2UubWVzc2FnZTsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Ticket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Ticket.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"ticket\">\n  <div class=\"problem\">\n    <h3><label>{{ticket.status}}</label> Problem reported {{time(ticket.created)}}</h3>\n    <p>{{ticket.problem}}</p>\n    <p v-if=\"ticket.response\"><i>{{ticket.response}}</i></p>\n    <p v-else>\n      <input v-model=\"response\" placeholder=\"response\">\n      <button @click=\"respond\" class=\"pure-button pure-button-primary\">Close Ticket</button>\n    </p>\n    <p class=\"error\" v-if=\"error\">{{error}}</p>\n  </div>\n</div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\nexport default {\n  name: \"Ticket\",\n  props: {\n    ticket: Object,\n  },\n  data() {\n    return {\n      response: '',\n      error: ''\n    }\n  },\n  methods: {\n    time(d) {\n      return moment(d).format('D MMMM YYYY, h:mm:ss a');\n    },\n    async respond() {\n      try {\n        let response = await axios.put('/api/tickets/' + this.ticket._id, {\n          status: \"closed\",\n          response: this.response,\n        });\n        this.ticket = response.data.ticket;\n      } catch (error) {\n        this.error = error.response.message;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\nh3 {\n  font-size: 12px;\n  font-weight: normal;\n  background-color: #ccc;\n  padding: 10px 20px;\n}\n\nlabel {\n  background-color: #000;\n  color: white;\n  padding: 5px;\n  border-radius: 30px;\n  font-size: 12px;\n  margin-right: 10px;\n}\n\ninput {\n  margin-right: 10px;\n}\n</style>"]}]}